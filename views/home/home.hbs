{{>header home="home"}}
{{!-- hieu ung snowflake start --}}

<style>
  #snowflakeContainer {
    position: absolute;
    left: 0px;
    top: 0px;
  }

  .snowflake {
    padding-left: 15px;
    font-size: 14px;
    line-height: 24px;
    position: fixed;
    color: #ebebeb;
    user-select: none;
    z-index: 1000;
    -moz-user-select: none;
    -ms-user-select: none;
    -khtml-user-select: none;
    -webkit-user-select: none;
    -webkit-touch-callout: none;
  }

  .snowflake:hover {
    cursor: default
  }
</style>
<div id='snowflakeContainer'>
  <p class='snowflake'>❄</p>
</div>
<script style='text/javascript'>
  //<![CDATA[
  var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame; var transforms = ["transform", "msTransform", "webkitTransform", "mozTransform", "oTransform"]; var transformProperty = getSupportedPropertyName(transforms); var snowflakes = []; var browserWidth; var browserHeight; var numberOfSnowflakes = 50; var resetPosition = false; function setup() { window.addEventListener("DOMContentLoaded", generateSnowflakes, false); window.addEventListener("resize", setResetFlag, false) } setup(); function getSupportedPropertyName(b) { for (var a = 0; a < b.length; a++) { if (typeof document.body.style[b[a]] != "undefined") { return b[a] } } return null } function Snowflake(b, a, d, e, c) { this.element = b; this.radius = a; this.speed = d; this.xPos = e; this.yPos = c; this.counter = 0; this.sign = Math.random() < 0.5 ? 1 : -1; this.element.style.opacity = 0.5 + Math.random(); this.element.style.fontSize = 4 + Math.random() * 30 + "px" } Snowflake.prototype.update = function () { this.counter += this.speed / 5000; this.xPos += this.sign * this.speed * Math.cos(this.counter) / 40; this.yPos += Math.sin(this.counter) / 40 + this.speed / 30; setTranslate3DTransform(this.element, Math.round(this.xPos), Math.round(this.yPos)); if (this.yPos > browserHeight) { this.yPos = -50 } }; function setTranslate3DTransform(a, c, b) { var d = "translate3d(" + c + "px, " + b + "px, 0)"; a.style[transformProperty] = d } function generateSnowflakes() { var b = document.querySelector(".snowflake"); var h = b.parentNode; browserWidth = document.documentElement.clientWidth; browserHeight = document.documentElement.clientHeight; for (var d = 0; d < numberOfSnowflakes; d++) { var j = b.cloneNode(true); h.appendChild(j); var e = getPosition(50, browserWidth); var a = getPosition(50, browserHeight); var c = 5 + Math.random() * 40; var g = 4 + Math.random() * 10; var f = new Snowflake(j, g, c, e, a); snowflakes.push(f) } h.removeChild(b); moveSnowflakes() } function moveSnowflakes() { for (var b = 0; b < snowflakes.length; b++) { var a = snowflakes[b]; a.update() } if (resetPosition) { browserWidth = document.documentElement.clientWidth; browserHeight = document.documentElement.clientHeight; for (var b = 0; b < snowflakes.length; b++) { var a = snowflakes[b]; a.xPos = getPosition(50, browserWidth); a.yPos = getPosition(50, browserHeight) } resetPosition = false } requestAnimationFrame(moveSnowflakes) } function getPosition(b, a) { return Math.round(-1 * b + Math.random() * (a + 2 * b)) } function setResetFlag(a) { resetPosition = true };
  //]]>
</script>
{{!-- hieu ung snowflake end --}}
{{!-- slide --}}
<div class="slide">
  <div id="wrapper">
    <section class="slideshow" id="js-header">
      <div class="slideshow__slide js-slider-home-slide is-current" data-slide="1">
        <div class="slideshow__slide-background-parallax background-absolute js-parallax" data-speed="-1"
          data-position="top" data-target="#js-header">
          <div class="slideshow__slide-background-load-wrap background-absolute">
            <div class="slideshow__slide-background-load background-absolute">
              <div class="slideshow__slide-background-wrap background-absolute">
                <div class="slideshow__slide-background background-absolute">
                  <div class="slideshow__slide-image-wrap background-absolute">
                    <div class="slideshow__slide-image background-absolute"
                      style="background-image: url('/img/banner/slide1.webp');">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="slideshow__slide js-slider-home-slide is-next" data-slide="2">
        <div class="slideshow__slide-background-parallax background-absolute js-parallax" data-speed="-1"
          data-position="top" data-target="#js-header">
          <div class="slideshow__slide-background-load-wrap background-absolute">
            <div class="slideshow__slide-background-load background-absolute">
              <div class="slideshow__slide-background-wrap background-absolute">
                <div class="slideshow__slide-background background-absolute">
                  <div class="slideshow__slide-image-wrap background-absolute">
                    <div class="slideshow__slide-image background-absolute"
                      style="background-image: url('/img/banner/slide2.webp');">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

      <div class="slideshow__slide js-slider-home-slide is-prev" data-slide="3">
        <div class="slideshow__slide-background-parallax background-absolute js-parallax" data-speed="-1"
          data-position="top" data-target="#js-header">
          <div class="slideshow__slide-background-load-wrap background-absolute">
            <div class="slideshow__slide-background-load background-absolute">
              <div class="slideshow__slide-background-wrap background-absolute">
                <div class="slideshow__slide-background background-absolute">
                  <div class="slideshow__slide-image-wrap background-absolute">
                    <div class="slideshow__slide-image background-absolute"
                      style="background-image: url('/img/banner/slide3.webp');">
                    </div>

            <div class="slideshow__slide js-slider-home-slide is-prev" data-slide="4">
        <div class="slideshow__slide-background-parallax background-absolute js-parallax" data-speed="-1"
          data-position="top" data-target="#js-header">
          <div class="slideshow__slide-background-load-wrap background-absolute">
            <div class="slideshow__slide-background-load background-absolute">
              <div class="slideshow__slide-background-wrap background-absolute">
                <div class="slideshow__slide-background background-absolute">
                  <div class="slideshow__slide-image-wrap background-absolute">
                    <div class="slideshow__slide-image background-absolute"
                      style="background-image: url('/img/banner/slide4.webp');">
                    </div>

              <div class="slideshow__slide js-slider-home-slide is-prev" data-slide="5">
        <div class="slideshow__slide-background-parallax background-absolute js-parallax" data-speed="-1"
          data-position="top" data-target="#js-header">
          <div class="slideshow__slide-background-load-wrap background-absolute">
            <div class="slideshow__slide-background-load background-absolute">
              <div class="slideshow__slide-background-wrap background-absolute">
                <div class="slideshow__slide-background background-absolute">
                  <div class="slideshow__slide-image-wrap background-absolute">
                    <div class="slideshow__slide-image background-absolute"
                      style="background-image: url('/img/banner/slide5.webp');">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>




    </section>

  </div>
</div>

{{!-- slide end --}}

<!-- Banner Begin -->

<!-- Banner End -->

{{!-- sản phẩm bán chạy --}}
<div class="slide-show-product">
  <div class="section-title pt-5" data-aos="zoom-in">
    <h2>SẢN PHẨM MỚI</h2>
  </div>
  <div class="custom-slider">
    {{!-- <div class="custom-box">1</div> --}}
    {{#each this.latestProducts}}
    <div class="item_product_main item_product_main_relative">
      <form action="#" method="post" class="variants product-action product-item-wishlist" data-pro="1045645398"
        data-id="product-actions-1045645398" enctype="multipart/form-data">
        <div class="product-thumbnail pos-relative">
          <a class="image_thumb pos-relative embed-responsive embed-responsive-3by4" href="#" title="">
            <img class="img-fetured" src="{{this.image}}" alt="">
          </a>
        </div>
        <div class="product-info">
          <span class="product-name ">
            <a class="link" href="/shop-grid/{{this.url}}">{{this.name}}</a>
          </span>
          <div class="product-rating">
            <div class="haravan-product-reviews-badge" data-id="1045645398"> </div>
          </div>
          <div class="product-item-cta position-relative">
            <div class="price-box">
              <span class="price">{{format this.price}}</span>
            </div>
          </div>
        </div>
      </form>
    </div>
    {{/each}}

  </div>
</div>

{{!-- sản phẩm bán chạy --}}

{{!-- banner --}}
<section class="section awe-section-6 section-section_imgtext_1 mt-2">
  <section class="section_imgtext section style1 left-text">
    <div class="container card border-0 mt-4">
      <div class="imgtext_body d-flex banner-home6-bottom space-80">
        <div class="col-md-6 col-sm-6 col-xs-6 overflow-hidden" data-aos="fade-up-right">
          <a class="hover-effect-images-ver2" href="#" title="Banner">
            <img
              src="https://scontent.cdninstagram.com/v/t39.30808-6/416344064_18033078232741507_2323630257307018483_n.jpg?stp=dst-jpg_e35_p720x720&efg=eyJ2ZW5jb2RlX3RhZyI6ImltYWdlX3VybGdlbi4xNDQweDE4MDAuc2RyLmYzMDgwOCJ9&_nc_ht=scontent.cdninstagram.com&_nc_cat=107&_nc_ohc=V58vBO1vm_wQ7kNvgF1wNnc&edm=APs17CUAAAAA&ccb=7-5&ig_cache_key=MzI3NjUxODAzNTY3Nzk1MTAyMQ%3D%3D.2-ccb7-5&oh=00_AYCalE7_1tOl0Yv-OTBAdeESo2PqOK37v1c9vOTbC7I5mg&oe=664CE401&_nc_sid=10d13b"
              alt="Banner">
            {{!-- <div class="text">
              <h3>text1</h3>
              <h4>text2 <span>text3</span></h4>
            </div> --}}
          </a>
        </div>
        <!-- End col-md-6   -->
        <div class="col-md-6 col-sm-6 col-xs-6 overflow-hidden" data-aos="fade-up-left">
          <a class="hover-effect-images-ver2" href="#" title="Banner">
            <img
              src="https://scontent.cdninstagram.com/v/t39.30808-6/427661961_18036828841741507_3287422698781725429_n.jpg?stp=dst-jpg_e35_p720x720&efg=eyJ2ZW5jb2RlX3RhZyI6ImltYWdlX3VybGdlbi4xNDQweDE4MDAuc2RyLmYzMDgwOCJ9&_nc_ht=scontent.cdninstagram.com&_nc_cat=107&_nc_ohc=WKcG4-I2UdgQ7kNvgEBjpy0&edm=APs17CUAAAAA&ccb=7-5&ig_cache_key=MzMwMzI5NzgwNDU1MzQ1NzQzNw%3D%3D.2-ccb7-5&oh=00_AYCL7XHsTWLezZjs3G-DJO6WuDyBYT0iiyeMWn24JpXnCg&oe=664CCF82&_nc_sid=10d13b"
              alt="Banner">
            {{!-- <div class="text">
              <h3>text3</h3>
              <p>text4</p>
              <h4>text5</h4>
            </div> --}}
          </a>
        </div>
      </div>
    </div>
  </section>
</section>


<section class="featured spad">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="section-title" data-aos="zoom-out">
          <h2>SẢN PHẨM BÁN CHẠY</h2>
        </div>
      </div>
    </div>
    <div class="recent-view-list m-0 row featured__filter">

      {{#each this.latestProducts}}
      <div class="product-col mix ">
        <div class="item_product_main item_product_main_relative">
          <form action="#" method="post" class="variants product-action product-item-wishlist" data-pro="1045645398"
            data-id="product-actions-1045645398" enctype="multipart/form-data" data-aos="fade-down"
            data-aos-easing="linear" data-aos-duration="1500">
            <div class="product-thumbnail pos-relative">
              <a class="image_thumb pos-relative embed-responsive embed-responsive-3by4" href="#" title="">
                <img class="img-fetured" src="{{this.image}}" alt="">
              </a>
            </div>
            <div class="product-info">
              <span class="product-name ">
                <a class="link" href="/shop-grid/{{this.url}}">{{this.name}}</a>
              </span>
              <div class="product-rating">
                <div class="haravan-product-reviews-badge" data-id="1045645398"> </div>
              </div>
              <div class="product-item-cta position-relative">
                <div class="price-box">
                  <span class="price">{{format this.price}}</span>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>

      {{/each}}

    </div>
  </div>
</section>



{{!-- banner thể thao --}}
<section class="section awe-section-10 section-section_lookbook">
  <section class="section_lookbook">
    <div class="container">
      <h2 class="heading-bar__title" data-aos="fade-down">OUTBREAK STYLE</h2>
      <div class="lookbooks-container row">
        <div class="col-xl-4 col-md-6 col-12 lookbooks-column" data-aos="fade-down">
          <div class="lookbooks-banner lookbooks-1">
            <div class="lookbooks-banner__photo">
              <div class="lookbook-image-wrap">
                <a href="http://localhost:5000/shop-grid">
                  <img class="img-fluid m-auto object-contain mh-100 w-auto" width="520" height="675"
                    src="https://scontent.fsgn2-8.fna.fbcdn.net/v/t39.30808-6/433255747_18040699756741507_7199363881849580768_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=5f2048&_nc_ohc=z9c6TrnEcX8Q7kNvgEH2wer&_nc_ht=scontent.fsgn2-8.fna&oh=00_AYAMofa05DK9FLFDfzC58lEsyj9bydRwV7VNiSrPgm3MYg&oe=664CF59A"
                    alt="ao da">
                </a>
              </div>
            </div>
            <div class="loookbook-info text-center mt-3">
              <h3>Áo Da</h3>
            </div>
          </div>
        </div>
        <div class="col-xl-4 col-md-6 col-12 lookbooks-column" data-aos="zoom-in">
          <div class="lookbooks-banner lookbooks-2">
            <div class="lookbooks-banner__photo">
              <div class="lookbook-image-wrap">
                <a href="http://localhost:5000/shop-grid">
                  <img class="img-fluid m-auto object-contain mh-100 w-auto" width="520" height="675"
                    src="https://scontent.fsgn2-6.fna.fbcdn.net/v/t39.30808-6/428677849_18038144680741507_985655559920843516_n.jpg?_nc_cat=111&ccb=1-7&_nc_sid=5f2048&_nc_ohc=ChsSH3w-458Q7kNvgHO1HFv&_nc_ht=scontent.fsgn2-6.fna&oh=00_AYDNaA5BAqoxY6IXaVonB5w-u2l6h_v0jmFMjL18jIjNIA&oe=664CD91C"
                    alt="ao so mi">
                </a>
              </div>
            </div>
            <div class="loookbook-info text-center mt-3">
              <h3>Áo Sơ Mi</h3>
            </div>
          </div>
        </div>
        <div class="col-xl-4 col-md-6 col-12 lookbooks-column" data-aos="fade-right">
          <div class="lookbooks-banner lookbooks-3">
            <div class "lookbooks-banner__photo">
              <div class="lookbook-image-wrap">
                <a href="http://localhost:5000/shop-grid">
                  <img class="img-fluid m-auto object-contain mh-100 w-auto" width="520" height="675"
                    src="https://scontent.fsgn2-5.fna.fbcdn.net/v/t39.30808-6/426448080_18045196177741507_962982928249839132_n.jpg?_nc_cat=104&ccb=1-7&_nc_sid=5f2048&_nc_ohc=ahnFaiYhIIIQ7kNvgEPq0RW&_nc_ht=scontent.fsgn2-5.fna&oh=00_AYB0YQU3rq5NCDHYXzBrIgS3KUYR_6R7ZBl07QuMnDTOWw&oe=664CE7D9"
                    alt="quan hop">
                </a>
              </div>
            </div>
            <div class="loookbook-info text-center mt-3">
              <h3>Áo Bomber</h3>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</section>
{{!-- banner thể thao --}}

{{!-- các nền tảng mxh --}}
<section class="section awe-section-11 section-section_brand">
  <section class="section_brand section" style="--item-display: 6">
    <div class="container card border-0">
      <div class="title_module_main heading-bar mb-4">
        <h2 class="heading-bar__title">
          <a class="link" href="" title="NỀN TẢNG ONLINE" data-aos="fade-down">NỀN TẢNG ONLINE</a>
        </h2>
      </div>
      <div class="row mx-0 hrz-scroll text-center flex-nowrap js-slider justify-content-around" id="slide_brand">
        <div class="item" data-aos="fade-left">
          <a href="https://www.facebook.com/profile.php?id=100046305526335" target="_blank" class="brand-item pos-relative d-flex align-items-center aspect-ratio"
            title="Facebook Anta" style="--width:157; --height:67">
            <img class="img-fluid m-auto object-contain mh-100 w-auto"
              src="//theme.hstatic.net/1000150581/1001058888/14/brand_1.jpg?v=289" alt="brand_1_title" width="157"
              height="67">
          </a>
        </div>
        <div class="item" data-aos="fade-left">
          <a href="#" target="_blank" class="brand-item pos-relative d-flex align-items-center aspect-ratio"
            title="Zalo Anta" style="--width:157; --height:67">
            <img class="img-fluid m-auto object-contain mh-100 w-auto"
              src="//theme.hstatic.net/1000150581/1001058888/14/brand_2.jpg?v=289" alt="brand_2_title" width="157"
              height="67">
          </a>
        </div>
        <div class="item" data-aos="zoom-out">
          <a href="https://shopee.vn/outbreak.s19" target="_blank" class="brand-item pos-relative d-flex align-items-center aspect-ratio"
            title="Shopee Anta" style="--width:157; --height:67">
            <img class="img-fluid m-auto object-contain mh-100 w-auto"
              src="//theme.hstatic.net/1000150581/1001058888/14/brand_3.jpg?v=289" alt="brand_3_title" width="157"
              height="67">
          </a>
        </div>
        <div class="item" data-aos="fade-right">
          <a href="#" target="_blank" class="brand-item pos-relative d-flex align-items-center aspect-ratio"
            title="Tiki Anta" style="--width:157; --height:67">
            <img class="img-fluid m-auto object-contain mh-100 w-auto"
              src="//theme.hstatic.net/1000150581/1001058888/14/brand_4.jpg?v=289" alt="brand_4_title" width="157"
              height="67">
          </a>
        </div>
        <div class="item" data-aos="fade-right">
          <a href="#" target="_blank" class="brand-item pos-relative d-flex align-items-center aspect-ratio"
            title="Lazada Anta" style="--width:157; --height:67">
            <img class="img-fluid m-auto object-contain mh-100 w-auto"
              src="//theme.hstatic.net/1000150581/1001058888/14/brand_5.jpg?v=289" alt="brand_5_title" width="157"
              height="67">
          </a>
        </div>
      </div>
    </div>
  </section>
</section>

{{!-- các nền tảng mxh end --}}

<!-- Blog Section Begin -->

<section class="from-blog spad">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="section-title from-blog__title" data-aos="zoom-in">
          <h2>BÀI VIẾT</h2>
        </div>
      </div>
    </div>
    <div class="row" data-aos="fade-down">
      {{#each blogs}}
      <div class="col-lg-4 col-md-4 col-sm-6" style=" padding: 10px;">
        <div class="blog__item">
          <a class="blog__item__pic" href="/blog/{{this._id}}">
            <img src="/img/blog/{{this.image}}" alt="" style="width: 100%; height: 200px;object-fit: cover;"
              class="img-fluid" />
          </a>
          <div class="blog__item__text">
            <ul class="list-unstyled">
              <li><i class="fa fa-calendar-o"></i> {{this.date}}</li>
            </ul>
            <h5><a href="/blog/{{this._id}}">{{this.title}}</a></h5>
            <p class="text-secondary">
              {{this.truncatedContent}}
            </p>
          </div>
        </div>
      </div>

      {{/each}}



    </div>
  </div>
</section>

{{!-- album --}}
<section class="sectionLookbooks ">
  <div class="container">
    <h2 class="hTitle" data-aos="zoom-out">Bộ sưu tập</h2>
    <div class="row lookbooks-container owlCarousel-style" data-carousel="true">
      <div class="col-md-6 col-sm-12 col-xs-12 lookbooks-column" data-aos="fade-left">
        <div class="lookbooks-banner  lookbooks-banner-1">
          <div class="lookbooks-banner__photo">
            <a>
              <picture>
                <img src="https://scontent.fsgn2-8.fna.fbcdn.net/v/t39.30808-6/355730153_855111136042396_8475275719487357351_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=5f2048&_nc_ohc=pDImTlMQ4bkQ7kNvgEe687r&_nc_ht=scontent.fsgn2-8.fna&oh=00_AYBnZKT0W2DPAPHAaC_nYFFQhkOdgY3KaTQIcf-rn-2PZw&oe=664CD23D"
                  alt="">
              </picture>
            </a>
          </div>
          <div class="lookbooks-banner__detail ">
          </div>
        </div>
      </div>
      <div class="book-right col-md-6 col-sm-12 col-xs-12">
        <div class="  lookbooks-column" data-aos="fade-right">
          <div class="lookbooks-banner  lookbooks-banner-2">
            <div class="lookbooks-banner__photo">
              <a>
                <picture>
                  <img src="https://file.hstatic.net/200000473357/file/bst_-_b2s_2_2e70a1699ece44bca4c52e5bbafc5132.png"
                    alt="">
                </picture>
              </a>

            </div>
            <div class="lookbooks-banner__detail ">
            </div>
          </div>
        </div>
        <div class="  lookbooks-column" data-aos="fade-right">
          <div class="lookbooks-banner  lookbooks-banner-3">
            <div class="lookbooks-banner__photo">
              <a>
                <picture>
                  <img src="https://file.hstatic.net/200000473357/file/bst_-_b2s_d37d0678f8f84c7da0911a31178e0b16.png"
                    alt="">
                </picture>
              </a>
            </div>
            <div class="lookbooks-banner__detail ">
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- Blog Section End -->

{{#section 'script'}}
<script>

  window.addEventListener('DOMContentLoaded', (event) => {

    const urlParams = new URLSearchParams(window.location.search);

    const paymentSuccess = urlParams.get('paymentSuccess');

    if (paymentSuccess === "true") {

      Swal.fire({
        title: "Thanh toán thành công!",
        text: "Cảm ơn bạn đã mua sắm tại OutBreak Style!",
        icon: "success"
      });
    }

  });

</script>
{{!-- slide show sale --}}
<script>

  $('.custom-slider').slick({
    slidesToShow: 4,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 2000,
    responsive: [
      {
        breakpoint: 1200,
        settings: {
          slidesToShow: 3,
          slidesToScroll: 1,
          infinite: true,
          dots: false
        }
      },
      {
        breakpoint: 900,
        settings: {
          slidesToShow: 2,
          slidesToScroll: 1,
          infinite: true,
          dots: false
        }
      },
      {
        breakpoint: 550,
        settings: {
          slidesToShow: 1,
          slidesToScroll: 1,
          infinite: true,
          dots: false
        }
      }
    ]
  });
</script>
{{!-- slide show end --}}
<script>
  function addShoppingCart(idProduct) {
    let numProductOder = 1;

    $.ajax({
      url: `/api/shoppingCart/addShoppingCart`,
      method: 'POST',
      data: {
        idProduct,
        numProductOder,
      },
      success: function (idProduct) {
        console.log("xong");
        $('#exampleModal').trigger('focus')
      }
    })
  }
</script>
{{!-- slider --}}
<script>
  const $window = $(window);
  const $body = $('body');

  class Slideshow {
    constructor(userOptions = {}) {
      const defaultOptions = {
        $el: $('.slideshow'),
        showArrows: false,
        showPagination: true,
        duration: 10000,
        autoplay: true
      }

      let options = Object.assign({}, defaultOptions, userOptions);

      this.$el = options.$el;
      this.maxSlide = this.$el.find($('.js-slider-home-slide')).length;
      this.showArrows = this.maxSlide > 1 ? options.showArrows : false;
      this.showPagination = options.showPagination;
      this.currentSlide = 1;
      this.isAnimating = false;
      this.animationDuration = 1200;
      this.autoplaySpeed = options.duration;
      this.interval;
      this.$controls = this.$el.find('.js-slider-home-button');
      this.autoplay = this.maxSlide > 1 ? options.autoplay : false;

      this.$el.on('click', '.js-slider-home-next', (event) => this.nextSlide());
      this.$el.on('click', '.js-slider-home-prev', (event) => this.prevSlide());
      this.$el.on('click', '.js-pagination-item', event => {
        if (!this.isAnimating) {
          this.preventClick();
          this.goToSlide(event.target.dataset.slide);
        }
      });

      this.init();
    }

    init() {
      this.goToSlide(1);
      if (this.autoplay) {
        this.startAutoplay();
      }

      if (this.showPagination) {
        let paginationNumber = this.maxSlide;
        let pagination = '<div class="pagination"><div class="container">';

        for (let i = 0; i < this.maxSlide; i++) {
          let item = `<span class="pagination__item js-pagination-item ${i === 0 ? 'is-current' : ''}" data-slide=${i + 1}>${i + 1}</span>`;
          pagination = pagination + item;
        }

        pagination = pagination + '</div></div>';

        this.$el.append(pagination);
      }
    }

    preventClick() {
      this.isAnimating = true;
      this.$controls.prop('disabled', true);
      clearInterval(this.interval);

      setTimeout(() => {
        this.isAnimating = false;
        this.$controls.prop('disabled', false);
        if (this.autoplay) {
          this.startAutoplay();
        }
      }, this.animationDuration);
    }

    goToSlide(index) {
      this.currentSlide = parseInt(index);

      if (this.currentSlide > this.maxSlide) {
        this.currentSlide = 1;
      }

      if (this.currentSlide === 0) {
        this.currentSlide = this.maxSlide;
      }

      const newCurrent = this.$el.find('.js-slider-home-slide[data-slide="' + this.currentSlide + '"]');
      const newPrev = this.currentSlide === 1 ? this.$el.find('.js-slider-home-slide').last() : newCurrent.prev('.js-slider-home-slide');
      const newNext = this.currentSlide === this.maxSlide ? this.$el.find('.js-slider-home-slide').first() : newCurrent.next('.js-slider-home-slide');

      this.$el.find('.js-slider-home-slide').removeClass('is-prev is-next is-current');
      this.$el.find('.js-pagination-item').removeClass('is-current');

      if (this.maxSlide > 1) {
        newPrev.addClass('is-prev');
        newNext.addClass('is-next');
      }

      newCurrent.addClass('is-current');
      this.$el.find('.js-pagination-item[data-slide="' + this.currentSlide + '"]').addClass('is-current');
    }

    nextSlide() {
      this.preventClick();
      this.goToSlide(this.currentSlide + 1);
    }

    prevSlide() {
      this.preventClick();
      this.goToSlide(this.currentSlide - 1);
    }

    startAutoplay() {
      this.interval = setInterval(() => {
        if (!this.isAnimating) {
          this.nextSlide();
        }
      }, this.autoplaySpeed);
    }

    destroy() {
      this.$el.off();
    }
  }

  (function () {
    let loaded = false;
    let maxLoad = 3000;

    function load() {
      const options = {
        showPagination: true
      };

      let slideShow = new Slideshow(options);
    }

    function addLoadClass() {
      $body.addClass('is-loaded');

      setTimeout(function () {
        $body.addClass('is-animated');
      }, 600);
    }

    $window.on('load', function () {
      if (!loaded) {
        loaded = true;
        load();
      }
    });

    setTimeout(function () {
      if (!loaded) {
        loaded = true;
        load();
      }
    }, maxLoad);

    addLoadClass();
  })();

</script>


{{/section}}